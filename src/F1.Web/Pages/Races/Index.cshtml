@page
@model F1.Web.Pages.Races.IndexModel
@{
  // Races placeholder page. Shows a prominent 'not seen' banner per
  // project requirements. Replace this content when real races data is available.
  Layout = "~/Pages/Shared/_Layout.cshtml";
}

<div class="container py-5 mt-5">
  <h1 class="h4 mb-3">Races</h1>
  @if(Model.TrackImageUrls.Any() && Model.Races.Any())
  {
    <div id="tracksSwiper" class="swiper tracks-swiper" data-tracks='@Html.Raw(System.Text.Json.JsonSerializer.Serialize(Model.TrackImageUrls))'>
      <div class="swiper-wrapper">
        @for(int i=0;i<Model.TrackImageUrls.Count;i++)
        {
          var img = Model.TrackImageUrls[i];
          var race = i < Model.Races.Count ? Model.Races[i] : null;
          <div class="swiper-slide">
            <img src="@img" alt="Track @i" loading="lazy" />
            <div class="position-absolute bottom-0 start-0 p-3 text-white">
              <h5 class="mb-1">@((race!=null)?race.Name:"Upcoming Race")</h5>
              <div class="small">@((race!=null)?race.Location:"Location") â€” @((race!=null)?race.Date.ToString("yyyy-MM-dd"):"")</div>
              <div class="mt-2"><a class="btn btn-sm btn-outline-light" href="#">View details (coming soon)</a></div>
            </div>
          </div>
        }
      </div>
      <div class="swiper-pagination"></div>
      <div class="swiper-button-prev"></div>
      <div class="swiper-button-next"></div>
    </div>
  }
  else
  {
    <div class="alert alert-warning">No track images found. Add PNGs named 1.png,2.png... in src/F1.Web/wwwroot/images2/ to enable the tracks carousel. <!-- TODO: add images2 --></div>
  }
</div>
